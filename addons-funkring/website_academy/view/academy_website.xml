<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
  
    <template id="index" name="Academy">
        <t t-call="website_embedded.layout">
            <t t-set="head">
                <link rel="stylesheet" href="/website_academy/static/src/css/website_academy.css"/>
                <script type="text/javascript" src="/website_academy/static/src/js/website_academy_pre_registration.js"/>
                <t t-raw="head or ''"/>
            </t>
            <div id="wrap">
                <div class="oe_structure"/>
                <div class="container">
                    <form action="academy/register" method="POST">
                        <div class="row mt8">
                            <div class="col-sm-12">
                                <div t-if="states" class="btn-group"> <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#"><t t-esc="state_item"/> <span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li t-foreach="states" t-as="state"><a t-attf-href="/academy?{{ keep_query('location_id', state_id=state.id) }}"><t t-esc="state.name"/></a></li>
                                    </ul>
                                </div>
                                <div t-if="locations" class="btn-group"> <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#"><t t-esc="location_item"/> <span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li t-foreach="locations" t-as="location"><a t-attf-href="/academy?{{ keep_query('state_id', location_id=location.id) }}"><t t-esc="location.name"/></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="row mt8 mb8">
                            <div class="col-md-8">                   
                                <input type="hidden" name="state_id" t-att-value="state_id"/>
                                <input type="hidden" name="location_id" t-att-value="location_id"/>
                                <input type="checkbox" id="student_of_loc" name="is_student_of_loc">                                    
                                    <label for="student_of_loc">I am student of the selected school?</label>
                                </input>
                            </div>
                        </div>  
                        <div class="row mt8 mb8">
                            <div class="col-md-8">                            
                                <div t-foreach="products" class="row mt8 mb8" t-as="product">
                                    <div class="col-md-6">
                                        <t t-esc="product.name"/>
                                    </div>
                                    <div class="col-md-6">
                                        <select t-attf-name="product-{{ product.id }}" style="width: 100%;">
                                            <option value="-">-</option>
                                            <t t-foreach="product.course_uom_ids" t-as="uom">
                                                <option t-attf-value="{{ uom.id }}"><t t-esc="uom.name"/></option>
                                            </t>
                                        </select>
                                    </div>
                                </div>                                
                            </div>
                        </div>
                        <div class="row mt8 mb8">
                            <div class="col-md-12">
                                <a class="btn btn-primary a-submit">
                                    <span>To Registration <span class="fa fa-long-arrow-right"></span></span>
                                </a>
                            </div>
                        </div>  
                    </form>
                </div>
            </div>
        </t>
    </template>
    
    <template id="register" name="Academy">
        <t t-call="website_embedded.layout">      
            <t t-set="head">
                <link rel="stylesheet" href="/website_academy/static/src/css/website_academy.css"/>
                <t t-raw="head or ''"/>
            </t>      
            <div id="wrap">
                <div class="oe_structure"/>
                <div class="container" >
                    <h4>Selected Course(s)</h4>
                    <div t-foreach="courses" t-as="course" class="row mt8 mb8">
                        <div class="col-md-4">
                          <t t-esc="course[0].name"/>
                        </div>
                        <div class="col-md-8">
                          <t t-esc="course[1].name"/>
                        </div>
                    </div>  
                    <p></p>
                    <h4>Registration</h4>
                    <form action="academy/finish_registration" method="POST">
                        <div class="row mt8 mb8">
                            <div class="col-md-4 control-label oe_label">
                                Location                    
                            </div>
                            <div class="col-md-8">
                                <t t-foreach="location_lines" t-as="loc_line">
                                    <t t-esc="loc_line"/><br/>
                                </t>
                            </div>
                        </div> 
                       <div class="row mt8 mb8">
                            <div class="col-md-8">                   
                                <input type="hidden" name="state_id" t-att-value="state_id"/>
                                <input type="hidden" name="location_id" t-att-value="location_id"/>
                                <input type="checkbox" id="student_of_loc" name="is_student_of_loc" t-att-checked="is_student_of_loc and 'checked' or None">                                    
                                    <label for="student_of_loc">I am student of the selected school?</label>
                                </input>
                            </div>
                        </div> 
                        <div class="row mt8 mb8">
                            <div class="col-md-4 control-label oe_label">
                                <t t-set="address_name">Student Address</t>
                                <t t-esc="address_name"/>
                            </div>
                            <div class="col-md-6">      
                                <t t-set="text_firstname">First Name</t>
                                <t t-set="text_lastname">Last Name</t>
                                <t t-set="text_birthday">Birthday e.g. 1981-3-18</t>   
                                <t t-set="text_nationality">Nationality</t> 
                                <div class="row mt4 mb4">
                                    <div class="col-md-12">        
                                        <input type="text" class="form-control" t-attf-name="student_firstname" t-att-placeholder="text_firstname" />
                                    </div>
                                </div>
                                <div class="row mt4 mb4">
                                    <div class="col-md-12">
                                        <input type="text" class="form-control" t-attf-name="student_lastname" t-att-placeholder="text_lastname" />
                                    </div>
                                </div>
                                <div class="row mt4 mb4">
                                    <div class="col-md-4">
                                        <input type="text"  class="form-control" t-attf-name="student_birthday" t-att-placeholder="text_birthday"/>
                                    </div>
                                </div>
                                <div class="row mt4 mb4">
                                    <div class="col-md-4">
                                        <input type="text" id="student-birthday" class="form-control" t-attf-name="student_birthday" t-att-placeholder="text_birthday"/>
                                    </div>
                                </div>      
                                <div class="row mt4 mb4">
                                    <div class="col-md-4">
                                        <input type="text" id="student-birthday" class="form-control" t-attf-name="student_birthday" t-att-placeholder="text_birthday"/>
                                    </div>
                                </div>                             
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </t>    
    </template>
    
  </data>
</openerp>

