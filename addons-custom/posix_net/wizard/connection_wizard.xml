<openerp>
	<data>
		<record id="wizard_connection" model="ir.ui.view">
			<field name="name">Connect with unit</field>
			<field name="model">posix_net.connection_wizard</field>
			<field name="arch" type="xml">
				<form string="Connect Unit" version="7.0">
					<group>
						<group string="Unit">
							<div>
								<h1>
									<field name="unit_id" placeholder="Unit" on_change="onchange_unit(unit_id)"/>
								</h1>
								<h2>
									<field name="local_port_id" on_change="onchange_local_port(local_port_id, target_unit_id, unit_id)"
									domain="[('unit_id', '=', unit_id), ('mode', '=', 'client')]" placeholder="Port"/>	
								</h2>
							</div>
						</group>
						<group string="Destination">
							<div>
								<h1>
									<field name="target_unit_id" on_change="onchange_target_unit(target_unit_id, local_port_id, unit_id)"
										domain="[('id', 'in', possible_unit_ids[0][2]), ('id', '!=', unit_id)]" placeholder="Target unit"/>
								</h1>
								<h2>
									<field name="target_port_id" on_change="onchange_target_port(target_port_id, local_port_id)"
										domain="[('id', 'in', possible_port_ids[0][2]), ('unit_id', '!=', unit_id)]" placeholder="Target port"/>
								</h2>
							</div>
						</group>
					</group>
					<field name="possible_unit_ids" invisible="1" />
					<field name="possible_port_ids" invisible="1" />
					<footer>
						<button icon="gtk-ok" name="do_connect" string="Connect"
							type="object" class="oe_highlight" />
						or
						<button special="cancel" string="Close" class="oe_link" />
					</footer>
				</form>
			</field>
		</record>

		<act_window id="action_connection_wizard" name="Connect with unit"
			src_model="posix_net.unit" res_model="posix_net.connection_wizard"
			view_type="form" view_mode="form" key2="client_action_multi" target="new" />
	</data>
</openerp>